# FAPWAD - Fight a Prof win a Dimploma 
Visual Programming project - by Vladimir and Borce
Vladimir Gorgieski  (171167)
Borce Stevanoski    (171169)

1. Опис на проблем

1.1 Идеја - краток опис

- Со нашата идеја се обидовме да ја доловиме, вечната битка помеѓу студентот и професорите.
  Замислена е како акциона игра, каде нашата цел е ги победиме професорите, а со тоа да добиеме
  повисок просек.
 

1.2 Функционалности

1.2.1 Копчиња

- (NewGame) - Со клик на ова копче, играта се почнува одново, а тоа значи: Херојот се наоѓа на
  почетната позиција со целосна енергија, Противниците (Професорите) се наоѓата на случајна 
  позиција. 
- (Pause) - Со клик на ова копче, играта прекинува со својот тек, зачувувајќи ги сите состојби .
- (Resume) - Со клик на ова копче, играта продолжува онаму каде што предходно била зачувана.
- (Save) - Со клик на ова копче, се појавува дијалог, каде што можеме да ја зачуваме моменталната
  состојба на играта на нашата работна околина.
- (Load) - Со клик на ова копче, се појавува дијалог, каде што можеме да ја вчитаме веќе зачуваната
  состојба од нашата работна околина.
- (Quit) - Со клик на ова копче, ја исклучуваме играта.

1.2.2 Улоги

- (Херој) - карактерот преку кој ние сме дел од оваа битка. Тој е студент, кој со своето
  движење низ мапата и фрлање на индекси, се обидува да се справи со немилосрдниот противник.
- (Противник) - карактерот кој со сите можности се обидува да го собори Херојот. 
  Претставен е како професор и исфрлува пријавни листови.
- (Препреки) - објекти кои го спречуваат движењето на карактерите и оружјата.

1.2.3 Оружје

- (Индекс) - средство користено од страна на Херојот, чија специјалност е уништување на професори
  и зголемување на просекот на херојот.
- (Пријавен лист) - средство користено од страна на Противникот, чија специјалност е уништување
  на студенти и намалување на нивниот просек.

 
1.3 Правила на игра

- Правилата на игра се доста едноставни, а се состојат од движење на нашиот херој и испукување на
  Индекси.

1.3.1 Движење

- Движењето на Херојот е овозможено преку користење на стрелките (Горе, Долу, Лево, Десно). При што
  ограничени сме од границите на мапата и препреките кои се наоѓаат низ мапата.
- Движењето на Противниците е овозможено така што тие се движат самостојно, во случајно определена
  насока, и ограничени на одреден простор на мапата. 


1.3.2 Исфрлување Индекс

- Исфрлувањето на индексите се извршува со кликање на левиот клик од нашиот маус. Индексите 
  исчезнуваат при судир со границите на мапата, судир со препрека или при погодок на противник.
  При погодок на професор, тие нанесуваат одредена штета.

1.3.3 Исфрлување Пријавен лист

- Исфрлувањето на пријавните листови е изведено преку функција која случајно одредува кој противник ќе 
  исфрли пријавен лист во даден момент.

1.3.4 Умирање

- Умирањето на Херојот/Противникот настанува кога самиот карактер ќе прими одредена штета која го надминува
  лимитот на својата енергија.

1.3.5 Преминување на следно ниво

- Играта се состои од три нивоа напредокот кон следен левел настанува кога Херојот ќе ги убие сите
  свои противници.

1.3.6 Крај на играта

- Доколку Херојот умре, играта завршува со победа на Противниците, испишувајќи го неговиот стекнат просек.

- Доколку Херојот ги помине сите 3 нивоа успешно, играта завршува со победа на Херојот и испишување
  на неговиот просек.

1.4 Структура на проблемот

- За реализација на проблемот, ние се одлучивме за Класна Хиерархија каде секоја класа содржи атрибути
  и методи преку кои е овозможена целосната функционалност.

1.4.1 Класна хиерархија

  - (GameClass) - оваа класа е нашиот "спроводник" преку кој ги правиме повиците на потребниот метод.
  - (Level) - оваа класа ги содржи сите карактери, препреки, оружја кои што се користат во дадениот левел.
  - (Hero) - оваа класа е местото каде што е имплементиран нашиот Херој, и чува податоци и методи кои го
    опфаќаат неговото постоење.
  - (Enemy) - оваа класа е местото каде што е имплементиран Противникот, и чува податоци и методи кои го
    опфаќаат неговото постоење.
  - (Index) - оваа класа претставува оружје на Херојот
  - (ReportedSheet) - оваа класа претставува оружје на Противникот

1.4.2 Методи

  - Методите во нашиот проблем, служат за движење на Херојот, движење на Противникот, исфрлување на оружје,
    следење на состојби, проверка на колизии, премин кон следен левел итн. Повик на даден метод се остварува
    преку различни начини зависност од контекстот. Тие можат да бидат, клик на некое копче, отчукување на тајмер,
    промена на состојба и слично.

1.4.2.1 Методи за движење 

  - Движењењ на Херојот

    public void moveUp(int top,List<Obstacles.Rectangle> rectangles)
        {
            int oldY = this.Y;
            this.Y -= rand.Next(10,50);
            if (IsCollided(rectangles) || this.Y < top)
            {
                this.Y = oldY;
            }
        }
     
    Опис: оваа функција служи за придвижување на Херојот нагоре. Повикана е преку клик на стрелката-UP.
	  Како аргумент содржи вредност на горната граница на мапата и Листа од препреки.
	  Големината на промената на y-координатата претставува случајна вредност помеѓу 10-50 пиксели.
	  Притоа проверуваме дали новодобиената вредност се судира со некоја од препреките или ја надминала
	  границата на мапата. Доколку се поминат сите тестови, новата вредност е зададена.

  - Движење на Противникот

            velocity = 5;
            Angle = rand.NextDouble() * 2 * Math.PI;
            velocityX = (Math.Cos(Angle) * velocity);
            velocityY = (Math.Sin(Angle) * velocity);

	Опис: начин на кој се добива насоката на притивникот


    public void Move(int left, int top, int width, int height)
        {
            int nextX = (int)(this.X + velocityX);
            int nextY = (int)(this.Y + velocityY);
            int lft = left;
            int rgt = left + width - characterWidth;
            int tp = top;
            int btm = top + height - characterHeight;

            if (nextX <= lft)
            {
                nextX = lft + (lft - nextX);
                velocityX = -velocityX;
            }
            if (nextX >= rgt)
            {
                nextX = rgt - (nextX - rgt);
                velocityX = -velocityX;

            }
            if (nextY <= tp)
            {
                nextY = tp + (tp - nextY);
                velocityY = -velocityY;
            }

            if (nextY >= btm)
            {
                nextY = btm - (nextY - btm);
                velocityY = -velocityY;
            }
            this.X = nextX;
            this.Y = nextY;
        }
    
    Опис: оваа функција служи за придвижување на Противникот во случајно определена насока. Како аргументи на оваа
          функција ги добиваме границите на просторот каде што Противникот може да се движи. Потоа се проверуваат
	  границите кои доколку ги надминиме се променува насоката на движење. 

	
1.5 Правилно стартување на играта
   
  - За максимално задоволство и најдобри перформанси на играта, препорачано е:

    1) Доколку играте на лаптоп, уклучен полнач
    2) Доколку играте на компјутер, да ви е уклучен компјутерот xD
    3) Промена на големина на приказ на апликации во Windows 10
      - Десен клик -> Display Settings -> Scale and Layout -> Change the size of the text, apps and other items -> 100%
